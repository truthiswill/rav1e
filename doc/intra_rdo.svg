<svg xmlns="http://www.w3.org/2000/svg" xmlns:svg="http://www.w3.org/2000/svg" id="svg8" width="383.527" height="1094.534" version="1.1" viewBox="0 0 101.475 289.596"><defs id="defs2"><marker style="overflow:visible" id="marker1997" orient="auto" refX="0" refY="0"><path style="fill:#000;fill-opacity:1;fill-rule:evenodd;stroke:#000;stroke-width:1pt;stroke-opacity:1" id="path1995" d="M 0,0 5,-5 -12.5,0 5,5 Z" transform="matrix(-0.8,0,0,-0.8,-10,0)"/></marker><marker style="overflow:visible" id="marker1406" orient="auto" refX="0" refY="0"><path style="fill:#000;fill-opacity:1;fill-rule:evenodd;stroke:#000;stroke-width:1pt;stroke-opacity:1" id="path1404" d="M 0,0 5,-5 -12.5,0 5,5 Z" transform="matrix(-0.8,0,0,-0.8,-10,0)"/></marker><marker id="marker1366" orient="auto" refX="0" refY="0" style="overflow:visible"><path id="path1364" d="M 0,0 5,-5 -12.5,0 5,5 Z" transform="matrix(-0.8,0,0,-0.8,-10,0)" style="fill:#000;fill-opacity:1;fill-rule:evenodd;stroke:#000;stroke-width:1pt;stroke-opacity:1"/></marker><marker style="overflow:visible" id="marker1332" orient="auto" refX="0" refY="0"><path style="fill:#000;fill-opacity:1;fill-rule:evenodd;stroke:#000;stroke-width:1pt;stroke-opacity:1" id="path1330" d="M 0,0 5,-5 -12.5,0 5,5 Z" transform="matrix(-0.8,0,0,-0.8,-10,0)"/></marker><marker id="marker1302" orient="auto" refX="0" refY="0" style="overflow:visible"><path id="path1300" d="M 0,0 5,-5 -12.5,0 5,5 Z" transform="matrix(-0.8,0,0,-0.8,-10,0)" style="fill-rule:evenodd;stroke:#000;stroke-width:1pt"/></marker><rect id="rect1276" width="80.012" height="17.834" x="72.806" y="257.923"/><rect id="rect1264" width="70.12" height="11.542" x="76.565" y="231.133"/><rect id="rect1250" width="72.092" height="14.712" x="76.046" y="203.568"/><rect id="rect1242" width="71.429" height="12.735" x="77.237" y="183.225"/><rect id="rect1226" width="91.927" height="7.832" x="60.213" y="161.472"/><rect id="rect1218" width="90.375" height="11.875" x="58.365" y="139.768"/><rect id="rect1210" width="91.994" height="8.069" x="58.758" y="121.365"/><rect id="rect1200" width="64.398" height="11.444" x="77.266" y="98.817"/><rect id="rect1194" width="61.197" height="8.295" x="78.162" y="82.551"/><rect id="rect1182" width="62.792" height="14.793" x="82.048" y="66.658"/><rect id="rect1176" width="66.944" height="13.44" x="80.461" y="63.185"/><marker id="Arrow1Lend" orient="auto" refX="0" refY="0" style="overflow:visible"><path id="path901" d="M 0,0 5,-5 -12.5,0 5,5 Z" transform="matrix(-0.8,0,0,-0.8,-10,0)" style="fill:#000;fill-opacity:1;fill-rule:evenodd;stroke:#000;stroke-width:1pt;stroke-opacity:1"/></marker><rect id="rect848" width="84.359" height="6.345" x="43.978" y="84.58"/><rect id="rect848-3" width="84.359" height="6.345" x="43.978" y="84.58"/><rect id="rect869" width="84.359" height="6.345" x="43.978" y="84.58"/><rect id="rect1973" width="84.359" height="6.345" x="43.978" y="84.58"/><rect id="rect1975" width="62.792" height="14.793" x="82.048" y="66.658"/><rect id="rect1977" width="66.816" height="13.694" x="78.162" y="82.551"/><rect id="rect1979" width="64.398" height="11.444" x="77.266" y="98.817"/></defs><metadata id="metadata5"/><g id="layer1" transform="translate(-54.79473,18.50007)"><rect style="fill:#fff;fill-opacity:1;stroke:#000;stroke-width:.264583" id="rect844" width="98.589" height="14.005" x="54.927" y="-18.368"/><text id="text846" transform="translate(17.584654,-98.857694)" xml:space="preserve" style="font-style:normal;font-weight:400;font-size:4.23333px;line-height:1.25;font-family:sans-serif;letter-spacing:0;word-spacing:0;white-space:pre;shape-inside:url(#rect848);fill:#000;fill-opacity:1;stroke:none"><tspan x="43.979" y="88.326"><tspan style="font-size:4.23333px">Initial intra_mode_set</tspan></tspan></text><rect id="rect844-6" width="98.432" height="49.12" x="55.218" y="51.424" rx="4" ry="4" style="fill:#ffd5d5;fill-opacity:1;stroke:#000;stroke-width:.264584"/><rect style="fill:#fff;fill-opacity:1;stroke:#000;stroke-width:.264999;stroke-miterlimit:4;stroke-dasharray:none" id="rect1204" width="69.787" height="13.713" x="75.191" y="84.648"/><text style="font-style:normal;font-weight:400;font-size:4.23333px;line-height:1.25;font-family:sans-serif;letter-spacing:0;word-spacing:0;white-space:pre;shape-inside:url(#rect848-3);fill:#000;fill-opacity:1;stroke:none" id="text846-7" transform="translate(13.112648,-29.066342)" xml:space="preserve"><tspan x="43.979" y="88.326"><tspan>Foreach intra mode:</tspan></tspan></text><path style="fill:none;fill-rule:evenodd;stroke:#000;stroke-width:.265;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;marker-end:url(#Arrow1Lend)" id="path896" d="m 104.26245,-4.362752 0.0328,6.0446048"/><rect style="fill:#fff;fill-opacity:1;stroke:#000;stroke-width:.264999;stroke-miterlimit:4;stroke-dasharray:none" id="rect1188" width="69.787" height="12.81" x="75.191" y="62.164"/><text id="text1180" transform="translate(-4.3734065,-3.3523533)" xml:space="preserve" style="font-size:4.23333px;line-height:1.25;font-family:sans-serif;letter-spacing:0;word-spacing:0;white-space:pre;shape-inside:url(#rect1182)"><tspan x="82.047" y="70.404"><tspan>Compute prediction at </tspan></tspan><tspan x="82.047" y="75.695"><tspan>partition size</tspan></tspan></text><rect style="fill:#fff;fill-opacity:1;stroke:#000;stroke-width:.264999;stroke-miterlimit:4;stroke-dasharray:none" id="rect1190" width="69.787" height="9.675" x="75.191" y="74.973"/><text id="text1192" transform="translate(0,-4.7625002)" xml:space="preserve" style="font-size:4.23333px;line-height:1.25;font-family:sans-serif;letter-spacing:0;word-spacing:0;white-space:pre;shape-inside:url(#rect1194)"><tspan x="78.162" y="86.296"><tspan>Compute SATD of residual</tspan></tspan></text><text id="text1198" transform="translate(0,-12.700002)" xml:space="preserve" style="font-size:4.23333px;line-height:1.25;font-family:sans-serif;letter-spacing:0;word-spacing:0;white-space:pre;shape-inside:url(#rect1200)"><tspan x="77.266" y="102.562"><tspan>Push intra mode + SATD to </tspan></tspan><tspan x="77.266" y="107.854"><tspan>list</tspan></tspan></text><rect style="fill:#fff;fill-opacity:1;stroke:#000;stroke-width:.264999;stroke-miterlimit:4;stroke-dasharray:none" id="rect1206" width="98.049" height="9.974" x="55.66" y="117.992"/><text id="text1208" xml:space="preserve" style="font-size:4.23333px;line-height:1.25;font-family:sans-serif;letter-spacing:0;word-spacing:0;white-space:pre;shape-inside:url(#rect1210)"><tspan x="58.758" y="125.111"><tspan>Sort list from low to high SATD</tspan></tspan></text><rect style="fill:#fff;fill-opacity:1;stroke:#000;stroke-width:.264999;stroke-miterlimit:4;stroke-dasharray:none" id="rect1214" width="97.611" height="8.672" x="56.602" y="137.409"/><text id="text1216" xml:space="preserve" style="font-size:4.23333px;line-height:1.25;font-family:sans-serif;letter-spacing:0;word-spacing:0;white-space:pre;shape-inside:url(#rect1218)"><tspan x="58.365" y="143.513"><tspan>Prune list to first N entries</tspan></tspan></text><rect style="fill:#d7eef4;fill-opacity:1;stroke:#000;stroke-width:.264999;stroke-miterlimit:4;stroke-dasharray:none" id="rect1222" width="98.733" height="88.849" x="57.404" y="159.899" rx="4" ry="4"/><text id="text1224" xml:space="preserve" style="font-size:4.23333px;line-height:1.25;font-family:sans-serif;letter-spacing:0;word-spacing:0;white-space:pre;shape-inside:url(#rect1226)"><tspan x="60.213" y="165.218"><tspan>Foreach intra_mode:</tspan></tspan></text><rect style="fill:#fff;fill-opacity:1;stroke:#000;stroke-width:.264999;stroke-miterlimit:4;stroke-dasharray:none" id="rect1230" width="80.715" height="12.092" x="70.137" y="168.682"/><text style="font-size:4.23333px;line-height:1.25;font-family:sans-serif;letter-spacing:0;word-spacing:0;stroke-width:.264583" id="text1234" x="76.839" y="174.072" xml:space="preserve"><tspan id="tspan1232" x="76.839" y="174.072" style="stroke-width:.264583">Save entropy decoding context</tspan></text><rect style="fill:#fff;fill-opacity:1;stroke:#000;stroke-width:.264999;stroke-miterlimit:4;stroke-dasharray:none" id="rect1236" width="80.715" height="18.552" x="70.137" y="180.773"/><text id="text1240" xml:space="preserve" style="font-size:4.23333px;line-height:1.25;font-family:sans-serif;letter-spacing:0;word-spacing:0;white-space:pre;shape-inside:url(#rect1242)"><tspan x="77.236" y="186.97"><tspan>Code entire partition (with </tspan></tspan><tspan x="77.236" y="192.262"><tspan>bitstream writing disabled)</tspan></tspan></text><rect style="fill:#fff;fill-opacity:1;stroke:#000;stroke-width:.264999;stroke-miterlimit:4;stroke-dasharray:none" id="rect1246" width="80.785" height="16.034" x="70.137" y="199.325"/><text id="text1248" transform="translate(0,-2.1166667)" xml:space="preserve" style="font-size:4.23333px;line-height:1.25;font-family:sans-serif;letter-spacing:0;word-spacing:0;white-space:pre;shape-inside:url(#rect1250)"><tspan x="76.047" y="207.314"><tspan>Compute distortion with either </tspan></tspan><tspan x="76.047" y="212.606"><tspan>MSE or psychovisual metric</tspan></tspan></text><rect style="fill:#fff;fill-opacity:1;stroke:#000;stroke-width:.264999;stroke-miterlimit:4;stroke-dasharray:none" id="rect1254" width="80.867" height="13.104" x="70.055" y="215.359"/><text style="font-size:4.23333px;line-height:1.25;font-family:sans-serif;letter-spacing:0;word-spacing:0;stroke-width:.264583" id="text1258" x="76.837" y="221.311" xml:space="preserve"><tspan id="tspan1256" x="76.837" y="221.311" style="stroke-width:.264583">Measure rate (bits used)</tspan></text><rect style="fill:#fff;fill-opacity:1;stroke:#000;stroke-width:.264999;stroke-miterlimit:4;stroke-dasharray:none" id="rect1260" width="80.867" height="14.351" x="70.055" y="228.463"/><text id="text1262" xml:space="preserve" style="font-size:4.23333px;line-height:1.25;font-family:sans-serif;letter-spacing:0;word-spacing:0;white-space:pre;shape-inside:url(#rect1264)"><tspan x="76.564" y="234.878"><tspan>Save mode and RDO score if it is </tspan></tspan><tspan x="76.564" y="240.17"><tspan>better than previous best</tspan></tspan></text><path style="fill:none;fill-rule:evenodd;stroke:#000;stroke-width:.264583px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-end:url(#marker1302)" id="path1298" d="m 104.56483,100.54372 0.0931,17.44795"/><path style="fill:none;fill-rule:evenodd;stroke:#000;stroke-width:.264583px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-end:url(#marker1332)" id="path1324" d="m 104.87656,127.96573 0.36355,9.44318"/><path style="fill:none;fill-rule:evenodd;stroke:#000;stroke-width:.264583px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-end:url(#marker1366)" id="path1326" d="m 105.50152,146.08055 0.30113,13.81813"/><path style="fill:none;fill-rule:evenodd;stroke:#000;stroke-width:.264583px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;marker-end:url(#marker1406)" id="path1328" d="m 106.77997,249.22355 10e-4,21.35829"/><text style="font-size:4.23333px;line-height:1.25;font-family:sans-serif;letter-spacing:0;word-spacing:0;stroke-width:.264583" id="text4104" x="108.391" y="133.868" xml:space="preserve"><tspan id="tspan4102" x="108.391" y="133.868" style="stroke-width:.264583">intra_mode_set</tspan></text><text style="font-size:4.23333px;line-height:1.25;font-family:sans-serif;letter-spacing:0;word-spacing:0;stroke-width:.264583" id="text4120" x="111.103" y="260.356" xml:space="preserve"><tspan id="tspan4118" x="111.103" y="260.356" style="stroke-width:.264583">PartitionParameters</tspan></text><text id="text4136" x="107.609" y="110.285" xml:space="preserve" style="font-size:4.23333px;line-height:1.25;font-family:sans-serif;letter-spacing:0;word-spacing:0;stroke-width:.264583"><tspan style="stroke-width:.264583" id="tspan4134" x="107.609" y="110.285">intra_mode_set</tspan></text><text id="text4140" x="108.213" y="153.605" xml:space="preserve" style="font-size:4.23333px;line-height:1.25;font-family:sans-serif;letter-spacing:0;word-spacing:0;stroke-width:.264583"><tspan style="stroke-width:.264583" id="tspan4138" x="108.213" y="153.605">intra_mode_set</tspan></text><text style="font-size:4.23333px;line-height:1.25;font-family:sans-serif;letter-spacing:0;word-spacing:0;stroke-width:.264583" id="text4144" x="108.213" y="153.605" xml:space="preserve"><tspan id="tspan4142" x="108.213" y="153.605" style="stroke-width:.264583">intra_mode_set</tspan></text><rect style="fill:#d7f4ee;fill-opacity:1;stroke:#000;stroke-width:.264584" id="rect1933" width="98.432" height="43.351" x="55.218" y="2.211" rx="4" ry="4"/><text id="text1941" transform="translate(13.112648,-78.80804)" xml:space="preserve" style="font-style:normal;font-weight:400;font-size:4.23333px;line-height:1.25;font-family:sans-serif;letter-spacing:0;word-spacing:0;white-space:pre;shape-inside:url(#rect1973);fill:#000;fill-opacity:1;stroke:none"><tspan x="43.979" y="88.326"><tspan>Foreach intra mode:</tspan></tspan></text><rect id="rect1943" width="69.787" height="12.81" x="75.191" y="12.951" style="fill:#fff;fill-opacity:1;stroke:#000;stroke-width:.264999;stroke-miterlimit:4;stroke-dasharray:none"/><text style="font-size:4.23333px;line-height:1.25;font-family:sans-serif;letter-spacing:0;word-spacing:0;white-space:pre;shape-inside:url(#rect1975)" id="text1953" transform="translate(-4.3734065,-52.56488)" xml:space="preserve"><tspan x="82.047" y="70.404"><tspan style="shape-inside:url(#rect1975)">Estimate rate of each mode</tspan></tspan></text><rect id="rect1955" width="69.787" height="16.509" x="75.191" y="25.761" style="fill:#fff;fill-opacity:1;stroke:#000;stroke-width:.264998;stroke-miterlimit:4;stroke-dasharray:none"/><text style="font-size:4.23333px;line-height:1.25;font-family:sans-serif;letter-spacing:0;word-spacing:0;white-space:pre;shape-inside:url(#rect1977)" id="text1961" transform="translate(0,-53.975028)" xml:space="preserve"><tspan x="78.162" y="86.296"><tspan>Sort from lowest to highest </tspan></tspan><tspan x="78.162" y="91.588"><tspan>rate</tspan></tspan></text><path id="path1993" d="m 104.2611,45.836724 0.0341,4.528488" style="fill:none;fill-rule:evenodd;stroke:#000;stroke-width:.265;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;marker-end:url(#marker1997)"/></g></svg>